{% extends 'base.html' %}

{% block content %}
<div class="dashboard-header"
    style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
    <div>
        <h1>My Tasks</h1>
        <p class="text-muted" style="color: var(--text-muted);">Manage your schedule efficiently.</p>
    </div>
    <div>
        <!-- Stats or filters could go here -->
    </div>
</div>

<div class="task-list">
    {% if tasks %}
    {% for task in tasks %}
    <div class="card task-card"
        style="border-left: 4px solid {% if task.completed %}var(--secondary){% else %}var(--primary){% endif %};">
        <div class="task-header">
            <div style="display: flex; align-items: center; gap: 1rem;">
                <a href="{{ url_for('complete_task', id=task.id) }}"
                    style="color: {% if task.completed %}var(--secondary){% else %}var(--border){% endif %}; font-size: 1.5rem; text-decoration: none;">
                    {% if task.completed %}◉{% else %}○{% endif %}
                </a>
                <h3 class="task-title {% if task.completed %}completed{% endif %}">{{ task.title }}</h3>
            </div>
            <span class="badge badge-{{ task.priority }}">{{ task.priority }}</span>
        </div>

        <p>{{ task.description }}</p>

        <div class="task-meta">
            <span>Due: {{ task.due_date.strftime('%Y-%m-%d') if task.due_date else 'No Date' }}</span>
            <div class="actions">
                <a href="{{ url_for('edit_task', id=task.id) }}" class="btn btn-sm"
                    style="background: var(--border);">Edit</a>
                <a href="{{ url_for('delete_task', id=task.id) }}" class="btn btn-sm btn-danger"
                    onclick="return confirm('Are you sure?')">Delete</a>
            </div>
        </div>
    </div>
    {% endfor %}
    {% else %}
    <div class="card" style="text-align: center; padding: 3rem;">
        <h3>No tasks found</h3>
        <p class="text-muted" style="margin-bottom: 1rem;">Get started by adding a new task to your schedule.</p>
        <a href="{{ url_for('add_task') }}" class="btn btn-primary">Create First Task</a>
    </div>
    {% endif %}
</div>
{% endblock %}